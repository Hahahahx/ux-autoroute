System.register(["./vendor-legacy.671cb819.js"],(function(e,t){"use strict";var n,r,l,o,a,c,i,u,m,s,f,p,h,d;return{setters:[function(e){n=e.r,r=e._,l=e.u,o=e.R,a=e.S,c=e.a,i=e.b,u=e.c,m=e.H,s=e.d,f=e.B,p=e.N,h=e.l,d=e.e}],execute:function(){function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=n.exports.createContext({routers:[]}),y=function(){var e=n.exports.useContext(g);return e.router?e.router:o.createElement(o.Fragment,null)},b=e("u",(function(){var e=l();return v(v({},n.exports.useContext(g)),{},{history:e})})),x=n.exports.createContext({htmlMeta:{link:new Array,meta:new Array,title:"",javascript:new Array},setHtmlMeta:function(){}}),j=function(e){var t=e.before,n=e.after,r=e.routers,l=e.noMatch,u=r.find((function(e){var t;return(null===(t=e.config)||void 0===t?void 0:t.default)&&e.path})),m=u&&u.path.match(/\/[a-z]+/g);return m&&(m.pop(),m=m.length?m.join(""):"/"),o.createElement(a,null,r.map((function(e,r){var a;return o.createElement(c,{exact:!(null==e||null===(a=e.config)||void 0===a||!a.exact),path:e.path,key:r,render:function(){if(t){var r=t(location);if(r)return r}return o.createElement(g.Provider,{value:{routers:e.child||[],config:e.config,router:e.child&&e.child.length?o.createElement(O,{routers:e.child,noMatch:l}):void 0}},o.createElement(e.component,null),n&&n(location))}})})),u&&o.createElement(i,{exact:!0,from:m||"/",to:u.path}),o.createElement(c,{path:"/*",render:function(){return r.find((function(e){return e.path.includes(location.pathname)}))?null:l}}))},O=o.memo(j,(function(e,t){return!1})),w=function(e){var t,r,l,a=n.exports.useState({link:new Array,meta:new Array,title:"",javascript:new Array}),c=u(a,2),i=c[0],p=c[1];return o.createElement(x.Provider,{value:{htmlMeta:i,setHtmlMeta:p}},o.createElement(m,null,null==i||null===(t=i.meta)||void 0===t?void 0:t.map((function(e){return o.createElement("meta",e)})),o.createElement("title",null,null==i?void 0:i.title),null==i||null===(r=i.link)||void 0===r?void 0:r.map((function(e){return o.createElement("link",e)})),null==i||null===(l=i.javascript)||void 0===l?void 0:l.map((function(e){return o.createElement("script",e)}))),"hash"==e.type?o.createElement(s,null,o.createElement(k,{routers:e.routers,listen:e.listen}),o.createElement(O,e)):o.createElement(f,null,o.createElement(k,{routers:e.routers,listen:e.listen}),o.createElement(O,e)))},k=o.memo((function(e){var t=e.routers,r=e.listen,a=l(),c=n.exports.useContext(x).setHtmlMeta;return n.exports.useEffect((function(){for(var e=0,n=t;n.length>e;){var l,o;null!==(l=n[e].child)&&void 0!==l&&l.length&&(null===(o=n[e].child)||void 0===o||o.forEach((function(e){n.push(e)}))),e++}a.listen((function(e){var t,l,o=n.filter((function(t){return t.path===e.pathname}));c(null===(t=o[0])||void 0===t||null===(l=t.config)||void 0===l?void 0:l.htmlmeta),r&&r(e)}))}),[]),o.createElement(o.Fragment,null)}),(function(){return!0}));const P=function(e,t){return e()},C=[{config:{htmlmeta:{title:"根"},noLazy:!0},component:()=>{const{config:e,routers:t,history:n}=b();return o.createElement(o.Fragment,null,o.createElement("ul",null,o.createElement("li",null," ",e?.htmlmeta?.title),t.map(((e,t)=>o.createElement("li",{key:t},o.createElement(p,{to:e.path},e?.config?.htmlmeta?.title))))),o.createElement("div",null,"/main"!=n.location.pathname,o.createElement(y,null)))},path:"",child:[{config:{default:!0,htmlmeta:{title:"登录"}},component:h((function(){return P((()=>t.import("./index-legacy.794161c4.js")))})),path:"/login",child:null},{config:{htmlmeta:{title:"首页"},noLazy:!0},component:()=>{const{config:e,routers:t}=b();return o.createElement(o.Fragment,null,e?.htmlmeta?.title,o.createElement("ul",null,t.map(((e,t)=>o.createElement("li",{key:t},o.createElement(p,{to:e.path},e?.config?.htmlmeta?.title))))),o.createElement("div",null,o.createElement(y,null)))},path:"/main",child:[{config:{htmlmeta:{title:"土豆"}},component:h((function(){return P((()=>t.import("./index-legacy.05f24ca8.js")))})),path:"/main/potato",child:null},{config:{htmlmeta:{title:"西红柿"},noLazy:!0},component:()=>{const{config:e}=b();return o.createElement(o.Fragment,null,e?.htmlmeta?.title)},path:"/main/tomato",child:null}]}]}],F=()=>{const[e,t]=n.exports.useState(2),r=[["/tomato","/potato"],["/main"]],l=e=>()=>{t(e)},a=t=>{switch(Number.isInteger(t)?t:e){case 0:return"高级";case 1:return"中级";case 2:return"低级"}};return o.createElement(o.Fragment,null,o.createElement("div",null,"您的角色权限：",a()),o.createElement("div",null,o.createElement("button",{onClick:l(2)},a(2)),o.createElement("button",{onClick:l(1)},a(1)),o.createElement("button",{onClick:l(0)},a(0))),o.createElement(w,{type:"hash",listen:e=>{},routers:C,before:t=>{const{hash:n}=window.location;if(r.some(((t,r)=>t.some((t=>{if(n.includes(t))return!Number.isInteger(e)||e>r})))))return o.createElement(o.Fragment,null,"您无权访问")},noMatch:o.createElement(o.Fragment,null,"404")}))};d.render(o.createElement(F,null),document.getElementById("root"))}}}));
